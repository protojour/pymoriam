import{s as dt,p as wt,q as yt,r as bt,b as N,f as w,u as P,v as At,i as E,h as A,n as pt,w as Bt,x as St,t as J,d as K,j as kt,C as Nt,e as C,a as _,c as M,g as q,B as oe,D as G,E as Et,F as Rt,G as Tt,H as _t,A as ae,I as le,J as qt,k as Z,Y as $e,z as tt,K as ce,W as ie,o as gt,l as Ct}from"../chunks/scheduler.DY_PyhZ8.js";import{S as ht,i as vt,a as x,t as y,b as D,d as O,m as z,e as I,f as fe,g as st,c as ot}from"../chunks/index.BEGIuHZD.js";import{e as et}from"../chunks/each.ZsfMN0XB.js";import{L as Mt}from"../chunks/Layout.Bh_KmZ72.js";import{g as ue,b as nt,e as me,H as it,P as Dt}from"../chunks/Label.Dg7id-lx.js";import{C as Ht}from"../chunks/CardBasic.CuI1MFAa.js";import{S as de}from"../chunks/SelectPlus.BIN_Ol5m.js";import{B as pe}from"../chunks/Button.BrIR7DRr.js";import{A as ge}from"../chunks/Accordion.B6m4OBba.js";import{T as he}from"../chunks/TextInput.BKwzr1dt.js";import{S as ve}from"../chunks/Save.jQqYrcgk.js";import{s as Ot,a as zt,b as xe,r as we,c as ye,g as be,d as ke,e as Ee,f as De,h as Yt,p as Oe}from"../chunks/acm.CwFU6zCv.js";import{s as It,d as ze,g as Ie}from"../chunks/domain.BGmoElHy.js";import{g as Pt}from"../chunks/get.s5tF0M-W.js";import{m as Jt,a as Kt}from"../chunks/page.CzyWzn1C.js";function Ut(r){let t,e;return{c(){t=yt("title"),e=J(r[1])},l(n){t=bt(n,"title",{});var s=N(t);e=K(s,r[1]),s.forEach(w)},m(n,s){E(n,t,s),A(t,e)},p(n,s){s&2&&kt(e,n[1])},d(n){n&&w(t)}}}function Ve(r){let t,e,n=r[1]&&Ut(r),s=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:r[0]},{height:r[0]},r[2],r[3]],o={};for(let a=0;a<s.length;a+=1)o=wt(o,s[a]);return{c(){t=yt("svg"),n&&n.c(),e=yt("circle"),this.h()},l(a){t=bt(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var l=N(t);n&&n.l(l),e=bt(l,"circle",{cx:!0,cy:!0,r:!0}),N(e).forEach(w),l.forEach(w),this.h()},h(){P(e,"cx","8"),P(e,"cy","8"),P(e,"r","6"),At(t,o)},m(a,l){E(a,t,l),n&&n.m(t,null),A(t,e)},p(a,[l]){a[1]?n?n.p(a,l):(n=Ut(a),n.c(),n.m(t,e)):n&&(n.d(1),n=null),At(t,o=ue(s,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},l&1&&{width:a[0]},l&1&&{height:a[0]},l&4&&a[2],l&8&&a[3]]))},i:pt,o:pt,d(a){a&&w(t),n&&n.d()}}}function je(r,t,e){let n,s;const o=["size","title"];let a=Bt(t,o),{size:l=16}=t,{title:f=void 0}=t;return r.$$set=$=>{e(5,t=wt(wt({},t),St($))),e(3,a=Bt(t,o)),"size"in $&&e(0,l=$.size),"title"in $&&e(1,f=$.title)},r.$$.update=()=>{e(4,n=t["aria-label"]||t["aria-labelledby"]||f),e(2,s={"aria-hidden":n?void 0:!0,role:n?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})},t=St(t),[l,f,s,a,n]}class Ae extends ht{constructor(t){super(),vt(this,t,je,Ve,dt,{size:0,title:1})}}const Be=r=>({}),Wt=r=>({});function Se(r){let t,e;return t=new Ae({}),{c(){D(t.$$.fragment)},l(n){O(t.$$.fragment,n)},m(n,s){z(t,n,s),e=!0},i(n){e||(x(t.$$.fragment,n),e=!0)},o(n){y(t.$$.fragment,n),e=!1},d(n){I(t,n)}}}function Ne(r){let t;return{c(){t=J(r[0])},l(e){t=K(e,r[0])},m(e,n){E(e,t,n)},p(e,n){n&1&&kt(t,e[0])},d(e){e&&w(t)}}}function Re(r){let t,e,n,s,o,a;const l=r[8].icon,f=Nt(l,r,r[7],Wt),$=f||Se(),i=r[8].default,g=Nt(i,r,r[7],null),m=g||Ne(r);return{c(){t=C("button"),e=C("div"),$&&$.c(),n=_(),m&&m.c(),this.h()},l(u){t=M(u,"BUTTON",{id:!0,class:!0});var p=N(t);e=M(p,"DIV",{class:!0});var H=N(e);$&&$.l(H),H.forEach(w),n=q(p),m&&m.l(p),p.forEach(w),this.h()},h(){P(e,"class","icon svelte-mzqeqj"),P(t,"id",r[1]),P(t,"class","svelte-mzqeqj"),oe(t,"strata--effect",!0),G(t,"--accent-color",nt(r[2],4)),G(t,"--background-base",nt(r[2],1)),G(t,"--background-hover",nt(r[2],2)),G(t,"--background-active",nt(r[2],3))},m(u,p){E(u,t,p),A(t,e),$&&$.m(e,null),A(t,n),m&&m.m(t,null),s=!0,o||(a=[Et(t,"click",r[3]),Et(t,"click",r[9]),Et(t,"focus",r[10])],o=!0)},p(u,[p]){f&&f.p&&(!s||p&128)&&Rt(f,l,u,u[7],s?_t(l,u[7],p,Be):Tt(u[7]),Wt),g?g.p&&(!s||p&128)&&Rt(g,i,u,u[7],s?_t(i,u[7],p,null):Tt(u[7]),null):m&&m.p&&(!s||p&1)&&m.p(u,s?p:-1),(!s||p&2)&&P(t,"id",u[1]),p&4&&G(t,"--accent-color",nt(u[2],4)),p&4&&G(t,"--background-base",nt(u[2],1)),p&4&&G(t,"--background-hover",nt(u[2],2)),p&4&&G(t,"--background-active",nt(u[2],3))},i(u){s||(x($,u),x(m,u),s=!0)},o(u){y($,u),y(m,u),s=!1},d(u){u&&w(t),$&&$.d(u),m&&m.d(u),o=!1,ae(a)}}}function Te(r,t,e){let n,{$$slots:s={},$$scope:o}=t,{id:a="strata-"+Math.random().toString(36)}=t,{states:l}=t,{state:f=l.length>0?l[0]:""}=t,$=l.indexOf(f)||0;const i=()=>{e(6,$=$>=l.length-1?0:$+1),e(0,f=l[$])};let{colorOptions:g=["green","red"]}=t;le(()=>me(a));function m(p){qt.call(this,r,p)}function u(p){qt.call(this,r,p)}return r.$$set=p=>{"id"in p&&e(1,a=p.id),"states"in p&&e(4,l=p.states),"state"in p&&e(0,f=p.state),"colorOptions"in p&&e(5,g=p.colorOptions),"$$scope"in p&&e(7,o=p.$$scope)},r.$$.update=()=>{r.$$.dirty&17&&e(6,$=l.indexOf(f)||0),r.$$.dirty&96&&e(2,n=g[$])},[f,a,n,i,l,g,$,o,s,m,u]}class _e extends ht{constructor(t){super(),vt(this,t,Te,Re,dt,{id:1,states:4,state:0,colorOptions:5})}}function Ft(r,t,e){const n=r.slice();return n[20]=t[e],n}function Gt(r,t,e){const n=r.slice();return n[23]=t[e],n}function Zt(r,t,e){const n=r.slice();return n[26]=t[e],n}function Qt(r,t,e){const n=r.slice();return n[29]=t[e],n}function qe(r){let t;return{c(){t=J("Access control matrix")},l(e){t=K(e,"Access control matrix")},m(e,n){E(e,t,n)},d(e){e&&w(t)}}}function Ce(r){let t,e;return t=new it({props:{tier:3,$$slots:{default:[qe]},$$scope:{ctx:r}}}),{c(){D(t.$$.fragment)},l(n){O(t.$$.fragment,n)},m(n,s){z(t,n,s),e=!0},p(n,s){const o={};s[1]&2&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(x(t.$$.fragment,n),e=!0)},o(n){y(t.$$.fragment,n),e=!1},d(n){I(t,n)}}}function Me(r){let t;return{c(){t=J("Roles")},l(e){t=K(e,"Roles")},m(e,n){E(e,t,n)},d(e){e&&w(t)}}}function Xt(r){let t,e;return t=new Dt({props:{$$slots:{default:[He]},$$scope:{ctx:r}}}),{c(){D(t.$$.fragment)},l(n){O(t.$$.fragment,n)},m(n,s){z(t,n,s),e=!0},p(n,s){const o={};s[1]&2&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(x(t.$$.fragment,n),e=!0)},o(n){y(t.$$.fragment,n),e=!1},d(n){I(t,n)}}}function He(r){let t;return{c(){t=J("No roles")},l(e){t=K(e,"No roles")},m(e,n){E(e,t,n)},d(e){e&&w(t)}}}function Lt(r){let t,e;function n(){return r[16](r[29])}return t=new Ht({props:{direction:"right",selected:r[2]===r[29].id,heading:r[29].header,text:r[29].label}}),t.$on("click",n),{c(){D(t.$$.fragment)},l(s){O(t.$$.fragment,s)},m(s,o){z(t,s,o),e=!0},p(s,o){r=s;const a={};o[0]&36&&(a.selected=r[2]===r[29].id),o[0]&32&&(a.heading=r[29].header),o[0]&32&&(a.text=r[29].label),t.$set(a)},i(s){e||(x(t.$$.fragment,s),e=!0)},o(s){y(t.$$.fragment,s),e=!1},d(s){I(t,s)}}}function Ye(r){let t;return{c(){t=J("Resources")},l(e){t=K(e,"Resources")},m(e,n){E(e,t,n)},d(e){e&&w(t)}}}function te(r){let t,e;return t=new Dt({props:{$$slots:{default:[Pe]},$$scope:{ctx:r}}}),{c(){D(t.$$.fragment)},l(n){O(t.$$.fragment,n)},m(n,s){z(t,n,s),e=!0},p(n,s){const o={};s[1]&2&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(x(t.$$.fragment,n),e=!0)},o(n){y(t.$$.fragment,n),e=!1},d(n){I(t,n)}}}function Pe(r){let t;return{c(){t=J("No resources")},l(e){t=K(e,"No resources")},m(e,n){E(e,t,n)},d(e){e&&w(t)}}}function ee(r){let t,e;function n(){return r[18](r[26])}return t=new Ht({props:{direction:"right",selected:r[3]===r[26].id,heading:r[26].header,text:r[26].label}}),t.$on("click",n),{c(){D(t.$$.fragment)},l(s){O(t.$$.fragment,s)},m(s,o){z(t,s,o),e=!0},p(s,o){r=s;const a={};o[0]&264&&(a.selected=r[3]===r[26].id),o[0]&256&&(a.heading=r[26].header),o[0]&256&&(a.text=r[26].label),t.$set(a)},i(s){e||(x(t.$$.fragment,s),e=!0)},o(s){y(t.$$.fragment,s),e=!1},d(s){I(t,s)}}}function Je(r){let t;return{c(){t=J("Actions")},l(e){t=K(e,"Actions")},m(e,n){E(e,t,n)},d(e){e&&w(t)}}}function Ke(r){let t,e;return t=new Dt({props:{$$slots:{default:[We]},$$scope:{ctx:r}}}),{c(){D(t.$$.fragment)},l(n){O(t.$$.fragment,n)},m(n,s){z(t,n,s),e=!0},p(n,s){const o={};s[1]&2&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(x(t.$$.fragment,n),e=!0)},o(n){y(t.$$.fragment,n),e=!1},d(n){I(t,n)}}}function Ue(r){let t,e,n=et(r[6]),s=[];for(let a=0;a<n.length;a+=1)s[a]=re(Ft(r,n,a));const o=a=>y(s[a],1,1,()=>{s[a]=null});return{c(){for(let a=0;a<s.length;a+=1)s[a].c();t=Ct()},l(a){for(let l=0;l<s.length;l+=1)s[l].l(a);t=Ct()},m(a,l){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(a,l);E(a,t,l),e=!0},p(a,l){if(l[0]&2624){n=et(a[6]);let f;for(f=0;f<n.length;f+=1){const $=Ft(a,n,f);s[f]?(s[f].p($,l),x(s[f],1)):(s[f]=re($),s[f].c(),x(s[f],1),s[f].m(t.parentNode,t))}for(st(),f=n.length;f<s.length;f+=1)o(f);ot()}},i(a){if(!e){for(let l=0;l<n.length;l+=1)x(s[l]);e=!0}},o(a){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)y(s[l]);e=!1},d(a){a&&w(t),gt(s,a)}}}function We(r){let t;return{c(){t=J("Select a resource and a role")},l(e){t=K(e,"Select a resource and a role")},m(e,n){E(e,t,n)},d(e){e&&w(t)}}}function Fe(r){let t=r[20].name+"",e;return{c(){e=J(t)},l(n){e=K(n,t)},m(n,s){E(n,e,s)},p(n,s){s[0]&64&&t!==(t=n[20].name+"")&&kt(e,t)},d(n){n&&w(e)}}}function Ge(r){let t,e;function n(...s){return r[19](r[20],r[23],...s)}return t=new _e({props:{slot:"support",states:r[9],state:r[23].allow?r[9][0]:r[9][1]}}),t.$on("click",n),{c(){D(t.$$.fragment)},l(s){O(t.$$.fragment,s)},m(s,o){z(t,s,o),e=!0},p(s,o){r=s;const a={};o[0]&64&&(a.state=r[23].allow?r[9][0]:r[9][1]),t.$set(a)},i(s){e||(x(t.$$.fragment,s),e=!0)},o(s){y(t.$$.fragment,s),e=!1},d(s){I(t,s)}}}function ne(r){let t,e,n,s;return t=new it({props:{role:"policyname",tier:6}}),n=new ge({props:{type:"textArea",size:"small",mainText:r[23].name,contentText:r[23].rule,$$slots:{support:[Ge]},$$scope:{ctx:r}}}),{c(){D(t.$$.fragment),e=_(),D(n.$$.fragment)},l(o){O(t.$$.fragment,o),e=q(o),O(n.$$.fragment,o)},m(o,a){z(t,o,a),E(o,e,a),z(n,o,a),s=!0},p(o,a){const l={};a[0]&64&&(l.mainText=o[23].name),a[0]&64&&(l.contentText=o[23].rule),a[0]&64|a[1]&2&&(l.$$scope={dirty:a,ctx:o}),n.$set(l)},i(o){s||(x(t.$$.fragment,o),x(n.$$.fragment,o),s=!0)},o(o){y(t.$$.fragment,o),y(n.$$.fragment,o),s=!1},d(o){o&&w(e),I(t,o),I(n,o)}}}function re(r){let t,e,n,s,o;e=new it({props:{tier:5,$$slots:{default:[Fe]},$$scope:{ctx:r}}});let a=et(r[20].actions),l=[];for(let $=0;$<a.length;$+=1)l[$]=ne(Gt(r,a,$));const f=$=>y(l[$],1,1,()=>{l[$]=null});return{c(){t=C("div"),D(e.$$.fragment),n=_();for(let $=0;$<l.length;$+=1)l[$].c();s=_(),this.h()},l($){t=M($,"DIV",{class:!0});var i=N(t);O(e.$$.fragment,i),n=q(i);for(let g=0;g<l.length;g+=1)l[g].l(i);s=q(i),i.forEach(w),this.h()},h(){P(t,"class","accessPolicy svelte-1izf5jd")},m($,i){E($,t,i),z(e,t,null),A(t,n);for(let g=0;g<l.length;g+=1)l[g]&&l[g].m(t,null);A(t,s),o=!0},p($,i){const g={};if(i[0]&64|i[1]&2&&(g.$$scope={dirty:i,ctx:$}),e.$set(g),i[0]&2624){a=et($[20].actions);let m;for(m=0;m<a.length;m+=1){const u=Gt($,a,m);l[m]?(l[m].p(u,i),x(l[m],1)):(l[m]=ne(u),l[m].c(),x(l[m],1),l[m].m(t,s))}for(st(),m=a.length;m<l.length;m+=1)f(m);ot()}},i($){if(!o){x(e.$$.fragment,$);for(let i=0;i<a.length;i+=1)x(l[i]);o=!0}},o($){y(e.$$.fragment,$),l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)y(l[i]);o=!1},d($){$&&w(t),I(e),gt(l,$)}}}function Ze(r){let t,e,n,s,o,a,l,f,$,i,g,m,u,p,H,at,Y,U,ft,Q,R,T,h;e=new it({props:{tier:4,$$slots:{default:[Me]},$$scope:{ctx:r}}});let B=et(r[5]),b=[];for(let c=0;c<B.length;c+=1)b[c]=Lt(Qt(r,B,c));const xt=c=>y(b[c],1,1,()=>{b[c]=null});let V=null;B.length||(V=Xt(r)),f=new it({props:{tier:4,$$slots:{default:[Ye]},$$scope:{ctx:r}}}),g=new de({props:{label:"Domain",value:r[4],options:r[1]}}),g.$on("change",r[10]);function mt(c){r[17](c)}let lt={search:!0,placeholder:"Search"};r[0]!==void 0&&(lt.value=r[0]),u=new he({props:lt}),ce.push(()=>fe(u,"value",mt));let W=et(r[8]),k=[];for(let c=0;c<W.length;c+=1)k[c]=ee(Zt(r,W,c));const se=c=>y(k[c],1,1,()=>{k[c]=null});let j=null;W.length||(j=te(r)),U=new it({props:{tier:4,$$slots:{default:[Je]},$$scope:{ctx:r}}});const Vt=[Ue,Ke],X=[];function jt(c,d){return c[6].length>0?0:1}return R=jt(r),T=X[R]=Vt[R](r),{c(){t=C("div"),D(e.$$.fragment),n=_(),s=C("div"),o=C("div");for(let c=0;c<b.length;c+=1)b[c].c();V&&V.c(),a=_(),l=C("div"),D(f.$$.fragment),$=_(),i=C("div"),D(g.$$.fragment),m=_(),D(u.$$.fragment),H=_();for(let c=0;c<k.length;c+=1)k[c].c();j&&j.c(),at=_(),Y=C("div"),D(U.$$.fragment),ft=_(),Q=C("div"),T.c(),this.h()},l(c){t=M(c,"DIV",{});var d=N(t);O(e.$$.fragment,d),n=q(d),s=M(d,"DIV",{});var S=N(s);o=M(S,"DIV",{class:!0});var $t=N(o);for(let v=0;v<b.length;v+=1)b[v].l($t);V&&V.l($t),$t.forEach(w),S.forEach(w),d.forEach(w),a=q(c),l=M(c,"DIV",{});var L=N(l);O(f.$$.fragment,L),$=q(L),i=M(L,"DIV",{class:!0});var F=N(i);O(g.$$.fragment,F),m=q(F),O(u.$$.fragment,F),H=q(F);for(let v=0;v<k.length;v+=1)k[v].l(F);j&&j.l(F),F.forEach(w),L.forEach(w),at=q(c),Y=M(c,"DIV",{});var rt=N(Y);O(U.$$.fragment,rt),ft=q(rt),Q=M(rt,"DIV",{});var ct=N(Q);T.l(ct),ct.forEach(w),rt.forEach(w),this.h()},h(){P(o,"class","cardlist svelte-1izf5jd"),P(i,"class","cardlist svelte-1izf5jd")},m(c,d){E(c,t,d),z(e,t,null),A(t,n),A(t,s),A(s,o);for(let S=0;S<b.length;S+=1)b[S]&&b[S].m(o,null);V&&V.m(o,null),E(c,a,d),E(c,l,d),z(f,l,null),A(l,$),A(l,i),z(g,i,null),A(i,m),z(u,i,null),A(i,H);for(let S=0;S<k.length;S+=1)k[S]&&k[S].m(i,null);j&&j.m(i,null),E(c,at,d),E(c,Y,d),z(U,Y,null),A(Y,ft),A(Y,Q),X[R].m(Q,null),h=!0},p(c,d){const S={};if(d[1]&2&&(S.$$scope={dirty:d,ctx:c}),e.$set(S),d[0]&36){B=et(c[5]);let v;for(v=0;v<B.length;v+=1){const ut=Qt(c,B,v);b[v]?(b[v].p(ut,d),x(b[v],1)):(b[v]=Lt(ut),b[v].c(),x(b[v],1),b[v].m(o,null))}for(st(),v=B.length;v<b.length;v+=1)xt(v);ot(),!B.length&&V?V.p(c,d):B.length?V&&(st(),y(V,1,1,()=>{V=null}),ot()):(V=Xt(c),V.c(),x(V,1),V.m(o,null))}const $t={};d[1]&2&&($t.$$scope={dirty:d,ctx:c}),f.$set($t);const L={};d[0]&16&&(L.value=c[4]),d[0]&2&&(L.options=c[1]),g.$set(L);const F={};if(!p&&d[0]&1&&(p=!0,F.value=c[0],ie(()=>p=!1)),u.$set(F),d[0]&264){W=et(c[8]);let v;for(v=0;v<W.length;v+=1){const ut=Zt(c,W,v);k[v]?(k[v].p(ut,d),x(k[v],1)):(k[v]=ee(ut),k[v].c(),x(k[v],1),k[v].m(i,null))}for(st(),v=W.length;v<k.length;v+=1)se(v);ot(),!W.length&&j?j.p(c,d):W.length?j&&(st(),y(j,1,1,()=>{j=null}),ot()):(j=te(c),j.c(),x(j,1),j.m(i,null))}const rt={};d[1]&2&&(rt.$$scope={dirty:d,ctx:c}),U.$set(rt);let ct=R;R=jt(c),R===ct?X[R].p(c,d):(st(),y(X[ct],1,1,()=>{X[ct]=null}),ot(),T=X[R],T?T.p(c,d):(T=X[R]=Vt[R](c),T.c()),x(T,1),T.m(Q,null))},i(c){if(!h){x(e.$$.fragment,c);for(let d=0;d<B.length;d+=1)x(b[d]);x(f.$$.fragment,c),x(g.$$.fragment,c),x(u.$$.fragment,c);for(let d=0;d<W.length;d+=1)x(k[d]);x(U.$$.fragment,c),x(T),h=!0}},o(c){y(e.$$.fragment,c),b=b.filter(Boolean);for(let d=0;d<b.length;d+=1)y(b[d]);y(f.$$.fragment,c),y(g.$$.fragment,c),y(u.$$.fragment,c),k=k.filter(Boolean);for(let d=0;d<k.length;d+=1)y(k[d]);y(U.$$.fragment,c),y(T),h=!1},d(c){c&&(w(t),w(a),w(l),w(at),w(Y)),I(e),gt(b,c),V&&V.d(),I(f),I(g),I(u),gt(k,c),j&&j.d(),I(U),X[R].d()}}}function Qe(r){let t;return{c(){t=J("Save")},l(e){t=K(e,"Save")},m(e,n){E(e,t,n)},d(e){e&&w(t)}}}function Xe(r){let t,e;return t=new ve({props:{slot:"icon"}}),{c(){D(t.$$.fragment)},l(n){O(t.$$.fragment,n)},m(n,s){z(t,n,s),e=!0},p:pt,i(n){e||(x(t.$$.fragment,n),e=!0)},o(n){y(t.$$.fragment,n),e=!1},d(n){I(t,n)}}}function Le(r){let t,e,n,s,o,a,l,f;return e=new Mt({props:{itemJustify:"start",$$slots:{default:[Ce]},$$scope:{ctx:r}}}),s=new Mt({props:{minColumnWidth:300,gap:16,$$slots:{default:[Ze]},$$scope:{ctx:r}}}),l=new pe({props:{btnType:"success",disabled:Object.keys(r[7]).length===0,$$slots:{icon:[Xe],default:[Qe]},$$scope:{ctx:r}}}),l.$on("click",r[12]),{c(){t=C("div"),D(e.$$.fragment),n=_(),D(s.$$.fragment),o=_(),a=C("div"),D(l.$$.fragment),this.h()},l($){t=M($,"DIV",{class:!0});var i=N(t);O(e.$$.fragment,i),n=q(i),O(s.$$.fragment,i),o=q(i),a=M(i,"DIV",{style:!0});var g=N(a);O(l.$$.fragment,g),g.forEach(w),i.forEach(w),this.h()},h(){G(a,"margin-top","16px"),P(t,"class","access-control-matrix")},m($,i){E($,t,i),z(e,t,null),A(t,n),z(s,t,null),A(t,o),A(t,a),z(l,a,null),f=!0},p($,i){const g={};i[1]&2&&(g.$$scope={dirty:i,ctx:$}),e.$set(g);const m={};i[0]&383|i[1]&2&&(m.$$scope={dirty:i,ctx:$}),s.$set(m);const u={};i[0]&128&&(u.disabled=Object.keys($[7]).length===0),i[1]&2&&(u.$$scope={dirty:i,ctx:$}),l.$set(u)},i($){f||(x(e.$$.fragment,$),x(s.$$.fragment,$),x(l.$$.fragment,$),f=!0)},o($){y(e.$$.fragment,$),y(s.$$.fragment,$),y(l.$$.fragment,$),f=!1},d($){$&&w(t),I(e),I(s),I(l)}}}function tn(r,t,e){let n,s,o,a,l,f,$;Z(r,Ot,h=>e(2,n=h)),Z(r,zt,h=>e(3,s=h)),Z(r,It,h=>e(4,o=h)),Z(r,xe,h=>e(13,a=h)),Z(r,we,h=>e(5,l=h)),Z(r,ye,h=>e(14,f=h)),Z(r,ze,h=>e(15,$=h));const i=["allow","deny"];let g=[],m={},u=[],p="",H=[];be(),Ie();const at=h=>{tt(It,o=h.detail.value,o),e(6,g=[]),tt(zt,s="",s),tt(Ot,n="",n)},Y=(h,B,b)=>{h.stopPropagation();const xt={...b,allow:!b.allow},V=Pt(a,[o,s,n,B.id,"actions"]).map(lt=>lt.name===b.name?{...lt,...xt}:lt),mt={...B,dirty:!0,actions:V};Yt(a,[o,s,n,B.id],mt),Yt(m,[o,s,n,B.id],mt),e(7,m)},U=()=>{Oe(m).then(()=>{e(7,m={})})};$e(()=>{ke(),e(7,m={})});const ft=h=>{tt(Ot,n=h.id,n)};function Q(h){p=h,e(0,p)}const R=h=>tt(zt,s=h.id,s),T=(h,B,b)=>Y(b,h,B);return r.$$.update=()=>{r.$$.dirty[0]&16385&&e(8,u=p.length>0?f.filter(h=>h.header.includes(p)):e(8,u=f)),r.$$.dirty[0]&32768&&e(1,H=$.map(h=>({value:h._key,text:h.label,disabled:!1}))),r.$$.dirty[0]&18&&o===""&&H.length>0&&tt(It,o=H[0].value,o),r.$$.dirty[0]&16&&Ee(o),r.$$.dirty[0]&16444&&De(o,f.find(h=>h.id===s),l.find(h=>h.id===n)),r.$$.dirty[0]&8220&&o&&s&&n&&e(6,g=Object.values(Pt(a,[o,s,n])))},[p,H,n,s,o,l,g,m,u,i,at,Y,U,a,f,$,ft,Q,R,T]}class en extends ht{constructor(t){super(),vt(this,t,tn,Le,dt,{},null,[-1,-1])}}function nn(r){let t,e;return t=new en({}),{c(){D(t.$$.fragment)},l(n){O(t.$$.fragment,n)},m(n,s){z(t,n,s),e=!0},p:pt,i(n){e||(x(t.$$.fragment,n),e=!0)},o(n){y(t.$$.fragment,n),e=!1},d(n){I(t,n)}}}function rn(r,t,e){let n,s;return Z(r,Kt,o=>e(0,n=o)),Z(r,Jt,o=>e(1,s=o)),tt(Jt,s=1264,s),tt(Kt,n="center",n),[]}class sn extends ht{constructor(t){super(),vt(this,t,rn,nn,dt,{})}}export{sn as component};
