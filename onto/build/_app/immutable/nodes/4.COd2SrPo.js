import{s as ct,p as Y,q as lt,r as rt,b as S,f as v,u as C,v as ht,i as N,h as y,n as ut,w as nt,x as ft,t as st,d as it,j as gt,K as Z,W as X,J as Q,C as Dt,a as G,g as J,F as Ot,G as Tt,H as zt,a1 as Mt,e as H,c as A,a0 as Bt,B as vt,E as Ct,a2 as Ht,k as bt,I as At,l as ot,o as Rt}from"../chunks/scheduler.DY_PyhZ8.js";import{S as $t,i as dt,f as _,b as j,d as k,m as D,a as m,t as h,e as O,c as tt,g as et}from"../chunks/index.BEGIuHZD.js";import{e as xt}from"../chunks/each.ZsfMN0XB.js";import{b as Nt,q as Gt}from"../chunks/index.CV4qQvMx.js";import{l as Jt,g as Kt,b as Ft,a as Lt}from"../chunks/auth.oMl1AMxo.js";import{g as Pt}from"../chunks/entry.C_ofhlVa.js";import{p as Yt}from"../chunks/stores.DO-TJgNk.js";import{b as Qt}from"../chunks/paths.CQM_VkiC.js";import{g as wt,c as Ut,H as Wt}from"../chunks/Label.Dg7id-lx.js";import{I as Zt}from"../chunks/Information.BSRR896a.js";import{B as yt}from"../chunks/BrandLogo.HYqWizE8.js";import{S as Xt}from"../chunks/SelectPlus.BIN_Ol5m.js";import{I as _t,T as Vt}from"../chunks/TextInput.BKwzr1dt.js";import{C as te}from"../chunks/Close.ChVnmT6X.js";import{B as ee}from"../chunks/Button.BrIR7DRr.js";import{b as ae}from"../chunks/_baseIteratee.Dmqt0C19.js";import{i as le}from"../chunks/toString.8a2CNWuX.js";import{s as V}from"../chunks/startCase.Cf8-n4-p.js";function re(t,e){for(var l=-1,s=t==null?0:t.length;++l<s;)if(!e(t[l],l,t))return!1;return!0}function ne(t,e){var l=!0;return Nt(t,function(s,i,o){return l=!!e(s,i,o),l}),l}function se(t,e,l){var s=le(t)?re:ne;return s(t,ae(e))}function qt(t){let e,l;return{c(){e=lt("title"),l=st(t[1])},l(s){e=rt(s,"title",{});var i=S(e);l=it(i,t[1]),i.forEach(v)},m(s,i){N(s,e,i),y(e,l)},p(s,i){i&2&&gt(l,s[1])},d(s){s&&v(e)}}}function ie(t){let e,l,s,i=t[1]&&qt(t),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:t[0]},{height:t[0]},t[2],t[3]],n={};for(let a=0;a<o.length;a+=1)n=Y(n,o[a]);return{c(){e=lt("svg"),i&&i.c(),l=lt("path"),s=lt("path"),this.h()},l(a){e=rt(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var r=S(e);i&&i.l(r),l=rt(r,"path",{d:!0}),S(l).forEach(v),s=rt(r,"path",{d:!0}),S(s).forEach(v),r.forEach(v),this.h()},h(){C(l,"d","M26,30H14a2,2,0,0,1-2-2V25h2v3H26V4H14V7H12V4a2,2,0,0,1,2-2H26a2,2,0,0,1,2,2V28A2,2,0,0,1,26,30Z"),C(s,"d","M14.59 20.59L18.17 17 4 17 4 15 18.17 15 14.59 11.41 16 10 22 16 16 22 14.59 20.59z"),ht(e,n)},m(a,r){N(a,e,r),i&&i.m(e,null),y(e,l),y(e,s)},p(a,[r]){a[1]?i?i.p(a,r):(i=qt(a),i.c(),i.m(e,l)):i&&(i.d(1),i=null),ht(e,n=wt(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},r&1&&{width:a[0]},r&1&&{height:a[0]},r&4&&a[2],r&8&&a[3]]))},i:ut,o:ut,d(a){a&&v(e),i&&i.d()}}}function oe(t,e,l){let s,i;const o=["size","title"];let n=nt(e,o),{size:a=16}=e,{title:r=void 0}=e;return t.$$set=c=>{l(5,e=Y(Y({},e),ft(c))),l(3,n=nt(e,o)),"size"in c&&l(0,a=c.size),"title"in c&&l(1,r=c.title)},t.$$.update=()=>{l(4,s=e["aria-label"]||e["aria-labelledby"]||r),l(2,i={"aria-hidden":s?void 0:!0,role:s?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ft(e),[a,r,i,n,s]}class ce extends $t{constructor(e){super(),dt(this,e,oe,ie,ct,{size:0,title:1})}}function ue(t){let e,l,s;const i=t[11].default,o=Dt(i,t,t[19],null);return l=new te({}),{c(){o&&o.c(),e=G(),j(l.$$.fragment)},l(n){o&&o.l(n),e=J(n),k(l.$$.fragment,n)},m(n,a){o&&o.m(n,a),N(n,e,a),D(l,n,a),s=!0},p(n,a){o&&o.p&&(!s||a&524288)&&Ot(o,i,n,n[19],s?zt(i,n[19],a,null):Tt(n[19]),null)},i(n){s||(m(o,n),m(l.$$.fragment,n),s=!0)},o(n){h(o,n),h(l.$$.fragment,n),s=!1},d(n){n&&v(e),o&&o.d(n),O(l,n)}}}function fe(t){let e,l,s;const i=[{id:t[1]},{name:t[2]},{label:t[3]},{placeholder:t[4]},{required:t[5]},{readonly:t[6]},{disabled:t[7]},{clear:t[8]},{ref:t[9]},{type:"password"},t[10]];function o(a){t[12](a)}let n={$$slots:{default:[ue]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)n=Y(n,i[a]);return t[0]!==void 0&&(n.value=t[0]),e=new _t({props:n}),Z.push(()=>_(e,"value",o)),e.$on("blur",t[13]),e.$on("focus",t[14]),e.$on("change",t[15]),e.$on("input",t[16]),e.$on("keydown",t[17]),e.$on("keyup",t[18]),{c(){j(e.$$.fragment)},l(a){k(e.$$.fragment,a)},m(a,r){D(e,a,r),s=!0},p(a,[r]){const c=r&2046?wt(i,[r&2&&{id:a[1]},r&4&&{name:a[2]},r&8&&{label:a[3]},r&16&&{placeholder:a[4]},r&32&&{required:a[5]},r&64&&{readonly:a[6]},r&128&&{disabled:a[7]},r&256&&{clear:a[8]},r&512&&{ref:a[9]},i[9],r&1024&&Ut(a[10])]):{};r&524288&&(c.$$scope={dirty:r,ctx:a}),!l&&r&1&&(l=!0,c.value=a[0],X(()=>l=!1)),e.$set(c)},i(a){s||(m(e.$$.fragment,a),s=!0)},o(a){h(e.$$.fragment,a),s=!1},d(a){O(e,a)}}}function $e(t,e,l){const s=["id","name","value","label","placeholder","required","readonly","disabled","clear","ref"];let i=nt(e,s),{$$slots:o={},$$scope:n}=e,{id:a="strata-"+Math.random().toString(36)}=e,{name:r=""}=e,{value:c=""}=e,{label:p=""}=e,{placeholder:z=""}=e,{required:R=!1}=e,{readonly:T=!1}=e,{disabled:q=!1}=e,{clear:K=!0}=e,{ref:E=null}=e;function M(f){c=f,l(0,c)}function L(f){Q.call(this,t,f)}function F(f){Q.call(this,t,f)}function u(f){Q.call(this,t,f)}function $(f){Q.call(this,t,f)}function I(f){Q.call(this,t,f)}function U(f){Q.call(this,t,f)}return t.$$set=f=>{e=Y(Y({},e),ft(f)),l(10,i=nt(e,s)),"id"in f&&l(1,a=f.id),"name"in f&&l(2,r=f.name),"value"in f&&l(0,c=f.value),"label"in f&&l(3,p=f.label),"placeholder"in f&&l(4,z=f.placeholder),"required"in f&&l(5,R=f.required),"readonly"in f&&l(6,T=f.readonly),"disabled"in f&&l(7,q=f.disabled),"clear"in f&&l(8,K=f.clear),"ref"in f&&l(9,E=f.ref),"$$scope"in f&&l(19,n=f.$$scope)},[c,a,r,p,z,R,T,q,K,E,i,o,M,L,F,u,$,I,U,n]}class de extends $t{constructor(e){super(),dt(this,e,$e,fe,ct,{id:1,name:2,value:0,label:3,placeholder:4,required:5,readonly:6,disabled:7,clear:8,ref:9})}}function Et(t,e,l){const s=t.slice();return s[17]=e[l],s[18]=e,s[19]=l,s}function me(t){let e;return{c(){e=st("Sign in")},l(l){e=it(l,"Sign in")},m(l,s){N(l,e,s)},d(l){l&&v(e)}}}function It(t){let e,l,s;function i(n){t[7](n)}let o={label:"Authority",options:Object.values(t[2])};return t[1]!==void 0&&(o.value=t[1]),e=new Xt({props:o}),Z.push(()=>_(e,"value",i)),{c(){j(e.$$.fragment)},l(n){k(e.$$.fragment,n)},m(n,a){D(e,n,a),s=!0},p(n,a){const r={};a&4&&(r.options=Object.values(n[2])),!l&&a&2&&(l=!0,r.value=n[1],X(()=>l=!1)),e.$set(r)},i(n){s||(m(e.$$.fragment,n),s=!0)},o(n){h(e.$$.fragment,n),s=!1},d(n){O(e,n)}}}function St(t){let e,l,s=xt(Object.keys(t[0])),i=[];for(let n=0;n<s.length;n+=1)i[n]=jt(Et(t,s,n));const o=n=>h(i[n],1,1,()=>{i[n]=null});return{c(){for(let n=0;n<i.length;n+=1)i[n].c();e=ot()},l(n){for(let a=0;a<i.length;a+=1)i[a].l(n);e=ot()},m(n,a){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(n,a);N(n,e,a),l=!0},p(n,a){if(a&15){s=xt(Object.keys(n[0]));let r;for(r=0;r<s.length;r+=1){const c=Et(n,s,r);i[r]?(i[r].p(c,a),m(i[r],1)):(i[r]=jt(c),i[r].c(),m(i[r],1),i[r].m(e.parentNode,e))}for(et(),r=s.length;r<i.length;r+=1)o(r);tt()}},i(n){if(!l){for(let a=0;a<s.length;a+=1)m(i[a]);l=!0}},o(n){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)h(i[a]);l=!1},d(n){n&&v(e),Rt(i,n)}}}function pe(t){let e,l,s;function i(a){t[12](a,t[17])}function o(){return t[13](t[17],t[19])}let n={name:t[17],placeholder:V(t[2][t[1]].args[t[19]].alias)||V(t[17]),invalid:!!t[3][t[17]],invalidText:t[3][t[17]]};return t[0][t[17]]!==void 0&&(n.value=t[0][t[17]]),e=new Vt({props:n}),Z.push(()=>_(e,"value",i)),e.$on("blur",o),{c(){j(e.$$.fragment)},l(a){k(e.$$.fragment,a)},m(a,r){D(e,a,r),s=!0},p(a,r){t=a;const c={};r&1&&(c.name=t[17]),r&7&&(c.placeholder=V(t[2][t[1]].args[t[19]].alias)||V(t[17])),r&9&&(c.invalid=!!t[3][t[17]]),r&9&&(c.invalidText=t[3][t[17]]),!l&&r&1&&(l=!0,c.value=t[0][t[17]],X(()=>l=!1)),e.$set(c)},i(a){s||(m(e.$$.fragment,a),s=!0)},o(a){h(e.$$.fragment,a),s=!1},d(a){O(e,a)}}}function he(t){let e,l,s;function i(a){t[10](a,t[17])}function o(){return t[11](t[17],t[19])}let n={name:t[17],placeholder:V(t[2][t[1]].args[t[19]].alias)||V(t[17]),invalid:!!t[3][t[17]],invalidText:t[3][t[17]]};return t[0][t[17]]!==void 0&&(n.value=t[0][t[17]]),e=new de({props:n}),Z.push(()=>_(e,"value",i)),e.$on("blur",o),{c(){j(e.$$.fragment)},l(a){k(e.$$.fragment,a)},m(a,r){D(e,a,r),s=!0},p(a,r){t=a;const c={};r&1&&(c.name=t[17]),r&7&&(c.placeholder=V(t[2][t[1]].args[t[19]].alias)||V(t[17])),r&9&&(c.invalid=!!t[3][t[17]]),r&9&&(c.invalidText=t[3][t[17]]),!l&&r&1&&(l=!0,c.value=t[0][t[17]],X(()=>l=!1)),e.$set(c)},i(a){s||(m(e.$$.fragment,a),s=!0)},o(a){h(e.$$.fragment,a),s=!1},d(a){O(e,a)}}}function ge(t){let e,l,s;function i(a){t[8](a,t[17])}function o(){return t[9](t[17],t[19])}let n={name:t[2][t[1]].args[t[19]].name,label:"Credentials",placeholder:V(t[2][t[1]].args[t[19]].alias)||V(t[17]),invalid:!!t[3][t[17]],invalidText:t[3][t[17]]};return t[0][t[17]]!==void 0&&(n.value=t[0][t[17]]),e=new Vt({props:n}),Z.push(()=>_(e,"value",i)),e.$on("blur",o),{c(){j(e.$$.fragment)},l(a){k(e.$$.fragment,a)},m(a,r){D(e,a,r),s=!0},p(a,r){t=a;const c={};r&6&&(c.name=t[2][t[1]].args[t[19]].name),r&7&&(c.placeholder=V(t[2][t[1]].args[t[19]].alias)||V(t[17])),r&9&&(c.invalid=!!t[3][t[17]]),r&9&&(c.invalidText=t[3][t[17]]),!l&&r&1&&(l=!0,c.value=t[0][t[17]],X(()=>l=!1)),e.$set(c)},i(a){s||(m(e.$$.fragment,a),s=!0)},o(a){h(e.$$.fragment,a),s=!1},d(a){O(e,a)}}}function jt(t){let e,l,s,i;const o=[ge,he,pe],n=[];function a(r,c){return r[19]===0?0:r[17]==="password"?1:2}return e=a(t),l=n[e]=o[e](t),{c(){l.c(),s=ot()},l(r){l.l(r),s=ot()},m(r,c){n[e].m(r,c),N(r,s,c),i=!0},p(r,c){let p=e;e=a(r),e===p?n[e].p(r,c):(et(),h(n[p],1,1,()=>{n[p]=null}),tt(),l=n[e],l?l.p(r,c):(l=n[e]=o[e](r),l.c()),m(l,1),l.m(s.parentNode,s))},i(r){i||(m(l),i=!0)},o(r){h(l),i=!1},d(r){r&&v(s),n[e].d(r)}}}function kt(t){let e,l,s,i,o,n;return l=new Zt({props:{size:20}}),{c(){e=H("div"),j(l.$$.fragment),s=G(),i=H("div"),o=st(t[4]),this.h()},l(a){e=A(a,"DIV",{class:!0});var r=S(e);k(l.$$.fragment,r),s=J(r),i=A(r,"DIV",{});var c=S(i);o=it(c,t[4]),c.forEach(v),r.forEach(v),this.h()},h(){C(e,"class","error flex gap-2 mt-2 items-center svelte-10h4n9x")},m(a,r){N(a,e,r),D(l,e,null),y(e,s),y(e,i),y(i,o),n=!0},p(a,r){(!n||r&16)&&gt(o,a[4])},i(a){n||(m(l.$$.fragment,a),n=!0)},o(a){h(l.$$.fragment,a),n=!1},d(a){a&&v(e),O(l)}}}function ve(t){let e;return{c(){e=st("Sign in")},l(l){e=it(l,"Sign in")},m(l,s){N(l,e,s)},d(l){l&&v(e)}}}function be(t){let e,l;return e=new ce({props:{slot:"icon"}}),{c(){j(e.$$.fragment)},l(s){k(e.$$.fragment,s)},m(s,i){D(e,s,i),l=!0},p:ut,i(s){l||(m(e.$$.fragment,s),l=!0)},o(s){h(e.$$.fragment,s),l=!1},d(s){O(e,s)}}}function xe(t){let e,l,s,i,o,n,a,r=Object.keys(t[2]).length>1,c,p,z,R,T,q,K,E,M,L="Powered by",F,u,$,I,U,f;s=new yt({props:{brand:"Memoriam"}}),n=new Wt({props:{tier:4,margin:0,$$slots:{default:[me]},$$scope:{ctx:t}}});let b=r&&It(t),x=t[2][t[1]]&&St(t),w=t[4]&&kt(t);return q=new ee({props:{type:"submit",btnType:"warning",disabled:!t[5],$$slots:{icon:[be],default:[ve]},$$scope:{ctx:t}}}),q.$on("click",Mt(t[6])),$=new yt({props:{brand:"authly"}}),{c(){e=H("div"),l=H("div"),j(s.$$.fragment),i=G(),o=H("div"),j(n.$$.fragment),a=G(),b&&b.c(),c=G(),p=H("form"),x&&x.c(),z=G(),w&&w.c(),R=G(),T=H("div"),j(q.$$.fragment),K=G(),E=H("div"),M=H("div"),M.textContent=L,F=G(),u=H("div"),j($.$$.fragment),this.h()},l(d){e=A(d,"DIV",{class:!0});var g=S(e);l=A(g,"DIV",{class:!0});var W=S(l);k(s.$$.fragment,W),W.forEach(v),i=J(g),o=A(g,"DIV",{class:!0});var B=S(o);k(n.$$.fragment,B),a=J(B),b&&b.l(B),c=J(B),p=A(B,"FORM",{class:!0});var P=S(p);x&&x.l(P),z=J(P),w&&w.l(P),R=J(P),T=A(P,"DIV",{class:!0});var mt=S(T);k(q.$$.fragment,mt),mt.forEach(v),P.forEach(v),B.forEach(v),K=J(g),E=A(g,"DIV",{class:!0});var at=S(E);M=A(at,"DIV",{"data-svelte-h":!0}),Bt(M)!=="svelte-19tgilz"&&(M.textContent=L),F=J(at),u=A(at,"DIV",{class:!0});var pt=S(u);k($.$$.fragment,pt),pt.forEach(v),at.forEach(v),g.forEach(v),this.h()},h(){C(l,"class","top svelte-10h4n9x"),C(T,"class","mt-2 svelte-10h4n9x"),C(p,"class","flex flex-col gap-2 svelte-10h4n9x"),C(o,"class","card flex flex-col gap-4 svelte-10h4n9x"),vt(o,"error",t[4]),C(u,"class","bottom svelte-10h4n9x"),C(E,"class","footer flex justify-center svelte-10h4n9x"),C(e,"class","main flex flex-col gap-32 justify-center svelte-10h4n9x")},m(d,g){N(d,e,g),y(e,l),D(s,l,null),y(e,i),y(e,o),D(n,o,null),y(o,a),b&&b.m(o,null),y(o,c),y(o,p),x&&x.m(p,null),y(p,z),w&&w.m(p,null),y(p,R),y(p,T),D(q,T,null),y(e,K),y(e,E),y(E,M),y(E,F),y(E,u),D($,u,null),I=!0,U||(f=Ct(p,"submit",Ht(t[6])),U=!0)},p(d,[g]){const W={};g&1048576&&(W.$$scope={dirty:g,ctx:d}),n.$set(W),g&4&&(r=Object.keys(d[2]).length>1),r?b?(b.p(d,g),g&4&&m(b,1)):(b=It(d),b.c(),m(b,1),b.m(o,c)):b&&(et(),h(b,1,1,()=>{b=null}),tt()),d[2][d[1]]?x?(x.p(d,g),g&6&&m(x,1)):(x=St(d),x.c(),m(x,1),x.m(p,z)):x&&(et(),h(x,1,1,()=>{x=null}),tt()),d[4]?w?(w.p(d,g),g&16&&m(w,1)):(w=kt(d),w.c(),m(w,1),w.m(p,R)):w&&(et(),h(w,1,1,()=>{w=null}),tt());const B={};g&32&&(B.disabled=!d[5]),g&1048576&&(B.$$scope={dirty:g,ctx:d}),q.$set(B),(!I||g&16)&&vt(o,"error",d[4])},i(d){I||(m(s.$$.fragment,d),m(n.$$.fragment,d),m(b),m(x),m(w),m(q.$$.fragment,d),m($.$$.fragment,d),I=!0)},o(d){h(s.$$.fragment,d),h(n.$$.fragment,d),h(b),h(x),h(w),h(q.$$.fragment,d),h($.$$.fragment,d),I=!1},d(d){d&&v(e),O(s),O(n),b&&b.d(),x&&x.d(),w&&w.d(),O(q),O($),U=!1,f()}}}function we(t,e,l){let s,i,o,n;bt(t,Lt,u=>l(2,o=u)),bt(t,Yt,u=>l(14,n=u));const a=Gt.parse(n.url.searchParams.toString());let r={},c={},p=a.error||"";At(()=>{Jt(),Kt()});function z(u){let $={};if(o[u]){for(let I of o[u].args)I.name==="password"?$[I.name]="":$[I.name]=r[I.name]||I.defaultValue||"";l(0,r=$),l(3,c={})}}function R(){if(s){let u={...r};i!=="Authly"&&([u.authorityName,u.sourceName]=i.split(":::")),Ft(u).then(()=>{var $;l(4,p=""),Pt((($=a.next)==null?void 0:$.toString())||Qt,{replaceState:!0})}).catch($=>{z(i),l(4,p=$),$.toString().includes("401")&&l(4,p="Invalid credentials")})}}function T(u){i=u,l(1,i),l(2,o)}function q(u,$){t.$$.not_equal(r[$],u)&&(r[$]=u,l(0,r))}const K=(u,$)=>l(3,c[u]=r[u]?"":`${V(o[i].args[$].alias)||V(u)} is required`,c);function E(u,$){t.$$.not_equal(r[$],u)&&(r[$]=u,l(0,r))}const M=(u,$)=>l(3,c[u]=r[u]?"":`${V(o[i].args[$].alias)||V(u)} is required`,c);function L(u,$){t.$$.not_equal(r[$],u)&&(r[$]=u,l(0,r))}const F=(u,$)=>l(3,c[u]=r[u]?"":`${V(o[i].args[$].alias)||V(u)} is required`,c);return t.$$.update=()=>{t.$$.dirty&1&&l(5,s=se(Object.keys(r).map(u=>!!r[u]))),t.$$.dirty&6&&l(1,i=i||Object.keys(o)[0]||""),t.$$.dirty&2&&z(i)},[r,i,o,c,p,s,R,T,q,K,E,M,L,F]}class ye extends $t{constructor(e){super(),dt(this,e,we,xe,ct,{})}}export{ye as component};
