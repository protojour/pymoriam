import{t as v,a as x}from"./index.BEGIuHZD.js";import{A as z}from"./scheduler.DY_PyhZ8.js";function B(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function E(e,n){e.d(1),n.delete(e.key)}function F(e,n){v(e,1,1,()=>{n.delete(e.key)})}function G(e,n,A,H,S,g,c,b,d,j,y,q){let a=e.length,f=g.length,r=a;const h={};for(;r--;)h[e[r].key]=r;const i=[],k=new Map,l=new Map,m=[];for(r=f;r--;){const t=q(S,g,r),s=A(t);let o=c.get(s);o?m.push(()=>o.p(t,n)):(o=j(s,t),o.c()),k.set(s,i[r]=o),s in h&&l.set(s,Math.abs(r-h[s]))}const w=new Set,M=new Set;function p(t){x(t,1),t.m(b,y),c.set(t.key,t),y=t.first,f--}for(;a&&f;){const t=i[f-1],s=e[a-1],o=t.key,u=s.key;t===s?(y=t.first,a--,f--):k.has(u)?!c.has(o)||w.has(o)?p(t):M.has(u)?a--:l.get(o)>l.get(u)?(M.add(o),p(t)):(w.add(u),a--):(d(s,c),a--)}for(;a--;){const t=e[a];k.has(t.key)||d(t,c)}for(;f;)p(i[f-1]);return z(m),i}export{E as d,B as e,F as o,G as u};
